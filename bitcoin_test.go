package main

import (
	"strings"
	"testing"
)

var tests = map[string]struct {
	publicKey string
	address   string
}{
	"18E14A7B6A307F426A94F8114701E7C8E774E7F9A47E2C2035DB29A206321725": {
		publicKey: "0450863AD64A87AE8A2FE83C1AF1A8403CB53F53E486D8511DAD8A04887E5B23522CD470243453A299FA9E77237716103ABC11A1DF38855ED6F2EE187E9C582BA6",
		address:   "16UwLL9Risc3QfPqBUvKofHmBQ7wMtjvM",
	},
	"69AF555EFCC31073FCB82977A5BEB6FD84F20FE01F663CB1585C84945193F950": {
		publicKey: "04D5CDB17FE99AB803F7D695CDAD7B4FC2D18D6C79FBBEFDF26115C142C5A3FBA961E9C00A7E448AD605B45021B98F2BC9509E930F51586B950B11C8B1A97A09FE",
		address:   "1DacsJLsyr77YYkWpNGg1H5Mq3mUf84VzB",
	},
	"8F21CD98BA978D56784735112AA55F5E12DFEEBBCAB76C683CD556500CC7FED5": {
		publicKey: "043ED489A36E6966CDD8768AA1FD49E9E3028ED818CB0D04822878EC947B197F68A4DE6EDC91F4D3480955FD30EACA71A741C6500139060B70BB3F9959B4C1E5C1",
		address:   "16WyARmxTQDLDdzHiZPdUgeb4h6i3CBXa5",
	},
	"E83385AF76B2B1997326B567461FB73DD9C27EAB9E1E86D26779F4650C5F2B75": {
		publicKey: "04369D83469A66920F31E4CF3BD92CB0BC20C6E88CE010DFA43E5F08BC49D11DA87970D4703B3ADBC9A140B4AD03A0797A6DE2D377C80C369FE76A0F45A7A39D3F",
		address:   "1NBEHp3x62dEcAtRQCZkXkEDBZQBXiMnED",
	},
}

func TestPublic(t *testing.T) {
	for prv, result := range tests {
		prv = strings.ToLower(prv)
		want := strings.ToLower(result.publicKey)
		t.Run(prv, func(t *testing.T) {
			got := Public(prv)
			if got != want {
				t.Errorf("got : %s\nwant: %s", got, want)
			}
		})
	}
}
func TestAddress(t *testing.T) {
	for _, result := range tests {
		want := result.address
		got := Address(result.publicKey)
		if got != want {
			t.Errorf("got : %s\nwant: %s", got, want)
		}
	}
}
